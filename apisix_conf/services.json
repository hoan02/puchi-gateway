{
  "auth-service": {
    "upstream_id": "auth-app-upstream",
    "plugins": {
      "proxy-rewrite": {
        "regex_uri": ["^/auth/(.*)", "/$1"]
      },
      "cors": {
        "allow_origins": "*",
        "allow_methods": "GET,POST,PUT,DELETE,OPTIONS",
        "allow_headers": "*",
        "expose_headers": "*",
        "max_age": 5,
        "allow_credential": false
      }
    },
    "desc": "Auth service HTTP API"
  },
  "auth-grpc-service": {
    "upstream_id": "auth-grpc-upstream",
    "plugins": {
      "grpc-web": {},
      "cors": {
        "allow_origins": "*",
        "allow_methods": "GET,POST,OPTIONS",
        "allow_headers": "*",
        "expose_headers": "*",
        "max_age": 5,
        "allow_credential": false
      }
    },
    "desc": "Auth service gRPC API"
  },
  "user-service": {
    "upstream_id": "user-app-upstream", 
    "plugins": {
      "proxy-rewrite": {
        "regex_uri": ["^/user/(.*)", "/$1"]
      },
      "cors": {
        "allow_origins": "*",
        "allow_methods": "GET,POST,PUT,DELETE,OPTIONS",
        "allow_headers": "*",
        "expose_headers": "*",
        "max_age": 5,
        "allow_credential": false
      }
    },
    "desc": "User service HTTP API"
  },
  "user-grpc-service": {
    "upstream_id": "user-grpc-upstream",
    "plugins": {
      "grpc-web": {},
      "cors": {
        "allow_origins": "*", 
        "allow_methods": "GET,POST,OPTIONS",
        "allow_headers": "*",
        "expose_headers": "*",
        "max_age": 5,
        "allow_credential": false
      }
    },
    "desc": "User service gRPC API"
  }
} 